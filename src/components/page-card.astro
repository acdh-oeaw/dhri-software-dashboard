---
import { getCollection } from "astro:content";

const allSoftware = await getCollection("software");
---

{
	allSoftware.map((software) => {
		return (
			<li>
				<article class="grid gap-4 rounded-b-md rounded-t-sm border-2 border-t-[3px] border-[#0000001a] border-t-blue-950 bg-white shadow-sm">
					<a href={software.data.url}>
						<img
							src={software.data.image}
							class="relative block aspect-[1.4] object-scale-down"
							sizes="791px"
							width="791"
							alt=""
						/>
					</a>
					<div class="grid gap-2 px-8 py-3">
						<header>
							<h3 class="text-xl font-medium text-neutral-950 dark:text-white">
								<a href={software.data.url} class="hover:underline">
									{software.data.title}
								</a>
							</h3>
						</header>
						<p class="text-gray-600">{software.data.summary}</p>
						<footer class="grid justify-start justify-items-start gap-2 text-neutral-950">
							{software.data.url ? (
								<a
									class="rounded-md border-2 bg-slate-50 px-3 py-1 text-sm transition hover:bg-black hover:text-white dark:hover:text-black"
									href={software.data.url}
								>
									Website
								</a>
							) : null}
							<a
								class="rounded-md border-2 bg-slate-50 px-3 py-1 text-sm transition hover:bg-black hover:text-white dark:hover:text-black"
								href={software.data.repo}
							>
								Git repository
							</a>
							{software.data.demo ? (
								<a
									class="rounded-md border-2 bg-slate-50 px-3 py-1 text-sm transition hover:bg-black hover:text-white dark:hover:text-black"
									href={software.data.demo}
								>
									Demo
								</a>
							) : (
								<span class="italic text-neutral-500">Demo not available</span>
							)}
						</footer>
					</div>
				</article>
			</li>
		);
	})
}
